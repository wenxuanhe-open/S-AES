# 用户指南

## 介绍

此应用程序实现了基于简化版高级加密标准 (Simplified AES, S-AES) 的加密和解密功能。通过一个简单的 Web 界面，用户可以输入明文、密钥并选择执行加密或解密操作，还可以利用双重加密、三重加密、中间相遇攻击等高级加密功能。

## 目录结构

```plaintext
/app/
  ├── __init__.py                # Flask 应用初始化
  ├── routes.py                  # 路由和视图处理
  ├── s_aes.py                   # S-AES 加密解密算法
  ├── templates/
  │   ├── index.html             # 主页面模板
  │   ├── result.html            # 结果页面模板
  │   ├── attack.html            # 中间相遇攻击页面
  │   └── attack_result.html     # 中间相遇攻击结果页面
  ├── static/
  │   └── style.css              # 页面样式
/tests/
  └── test_s_aes.py              # S-AES 算法的单元测试
app.py                           # 启动 Flask 应用
requirements.txt                 # 项目依赖包
```

## 功能概述

### 1. 加密与解密
- **单重加密/解密**：用户输入明文和密钥，选择加密或解密操作。
- **双重加密/解密**：使用两个不同的密钥对数据进行双重加密。
- **三重加密/解密**：支持三重加密，使用32位或48位密钥进行加解密。
- **CBC 模式**：支持密码分组链接 (CBC) 模式的加密，适用于较长的消息加解密。

### 2. 中间相遇攻击
允许用户输入一组明密文对，应用尝试找到可能的密钥组合，展示破解密钥及所用时间。

## 快速开始

### 1. 克隆项目

```bash
git clone https://github.com/wenxuanhe-open/S-AES
cd S-AES
```

### 2. 安装依赖

```bash
pip install -r requirements.txt
```

### 3. 启动应用

```bash
python app.py
```

默认在 `http://127.0.0.1:5000` 运行。打开浏览器访问该地址即可使用。

## 使用指南

### 主页面 (S-AES 加密系统)

1. **输入格式**：选择 `ASCII字符串` 或 `二进制`。
2. **加密模式**：选择 `单重加密`、`双重加密`、`三重加密` 或 `CBC模式`。
3. **密钥**：输入密钥，长度应符合所选加密模式的要求。
4. **明文/密文**：在文本框中输入明文（加密时）或密文（解密时）。
5. **初始向量 (IV)**：选择 CBC 模式时会显示该输入框，用户需输入 16 位二进制或 2 字符的 IV 值。
6. **操作按钮**：
   - 点击 **加密** 获取密文。
   - 点击 **解密** 查看解密后的明文。

### 中间相遇攻击

1. 点击主页上的 **进行中间相遇攻击** 链接，进入中间相遇攻击页面。
2. **设置明密文对数量**：选择明密文对的数量（最多支持5对）。
3. **输入明文与密文**：在对应输入框内输入明密文对。
4. 点击 **开始破解**，系统将尝试破解并显示结果。

## 常见问题与故障排除

### 1. 无法连接到应用程序
确保 Flask 服务器已启动，并且网络配置无误。使用 `python app.py` 重新启动。

### 2. 输入无效或密文格式错误
- 确保输入格式和密钥长度符合所选模式的要求。
- 二进制模式要求16位格式，ASCII模式为2字符（单重加密）或更长。

### 3. 加密/解密失败
请检查是否正确输入明文、密钥和模式。若使用CBC模式，需提供正确的IV值。

## 测试

在 `/tests/test_s_aes.py` 中提供了单元测试，用于验证 S-AES 算法的正确性。运行以下命令执行测试：

```bash
python -m unittest tests/test_s_aes.py
```

## 许可证

此项目基于 MIT 许可证进行发布。详细信息请参见 [LICENSE](LICENSE)。
